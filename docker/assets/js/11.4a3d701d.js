(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{201:function(s,n,t){"use strict";t.r(n);var a=t(0),e=Object(a.a)({},function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"前言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前言","aria-hidden":"true"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),t("blockquote",[t("p",[s._v("Jenkins服务的安装虽然不复杂，但依然需要一些准备工作，例如java环境，运行参数等。但是使用Docker一键完成！")])]),s._v(" "),t("h2",{attrs:{id:"一步搞定"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一步搞定","aria-hidden":"true"}},[s._v("#")]),s._v(" 一步搞定")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker run -d -p 8088:8080 --name myjenkins -p 50000:50000 jenkins/jenkins:lts\n")])])]),t("h2",{attrs:{id:"依次解释各个参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#依次解释各个参数","aria-hidden":"true"}},[s._v("#")]),s._v(" 依次解释各个参数")]),s._v(" "),t("v-dockerCmdDesc",{attrs:{cmd:"docker run -d -p 8088:8080 --name myjenkins -p 50000:50000 jenkins/jenkins:lts"}}),s._v(" "),t("div",{staticClass:"tip custom-block"},[t("p",[s._v("Jenkins这个容器很特殊，它需要暴露俩个端口到外部宿主机器，一般情况我们不用考虑为什么，只要知道我们需要使用的是容器暴露的 8080 服务即可。")])]),s._v(" "),t("h2",{attrs:{id:"接下来测试一下"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#接下来测试一下","aria-hidden":"true"}},[s._v("#")]),s._v(" 接下来测试一下")]),s._v(" "),t("p",[s._v("我们这里在windows机器上面浏览器打开宿主jenkins看看效果\\")]),s._v(" "),t("blockquote",[t("p",[s._v("这里我们的Docker宿主机器IP地址是10.100.49.148, 端口如上所述是8088，所以我们打开http://10.100.49.148:8088")])]),s._v(" "),t("img",{attrs:{src:s.$withBase("/jenkins-login.jpg"),alt:"jenkins-login.jpg"}}),s._v(" "),t("div",{staticClass:"tip custom-block"},[t("p",[s._v("解释一下：\n这里我windows机器与docker宿主机器在同一个WIFI网络中。\ndocker宿主机器的ip地址是 10.100.49.148，你在测试中IP地址应该和我的不一样哦！")])]),s._v(" "),t("p",[s._v("centos上面查看机器的IP地址的命令是： "),t("code",[s._v("ip a")])]),s._v(" "),t("h2",{attrs:{id:"解锁jenkins"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解锁jenkins","aria-hidden":"true"}},[s._v("#")]),s._v(" 解锁jenkins")]),s._v(" "),t("blockquote",[t("p",[s._v("这里其实我们Docker安装jenkins的工作已经完成了，只不过jenkins第一次运行是需要开发者自己解锁的。\n出于方便大家的目的，我们这里介绍一下后面解锁应该怎么做。\n解锁jenkins的方法就是找到容器内部的initialAdminPassword文件，并把内容复制拷贝到浏览器的jenkins登录页")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第一步： 进入myjenkins容器")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("exec")]),s._v(" -it myjenkins "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第二步： 查看密码文件内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -f /var/jenkins_home/secrets/initialAdminPassword\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当你运行结束之后，你会得到一串密码，它像这个样子：73cf23dc900da30fa676c2766786bf6a")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 警告：当你尝试的时候，因为jenkins版本迭代的原因，这个文件名可能会改变，所以请以浏览器jenkins的登录页提示为准哦")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提示：请使用tail命令哦，因为vi vim 在这个容器中是没有预安装的哦")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第三步：在浏览器jenkins登陆页填写密码文件的内容 ")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第四部：选择插件，建议新手玩家选择默认插件配置，反正后面可以修改。老玩家就不用我说了，会玩。")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第五步：配置用户名密码")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 完成 bingo!")]),s._v("\n")])])]),t("h2",{attrs:{id:"总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),t("p",[s._v("是不是非常简单？没想到使用docker安装jenkins一行命令就搞定了，所谓"),t("code",[s._v("工欲善其事必先利其器")]),s._v("就是这个道理吧。")]),s._v(" "),t("p",[s._v("并且你可以在同一台linux机器上面安装多个版本的jenkins哦，对于开发测试实在是太方便了，有木有？")]),s._v(" "),t("h2",{attrs:{id:"常见问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见问题","aria-hidden":"true"}},[s._v("#")]),s._v(" 常见问题")]),s._v(" "),t("v-FAQ"),s._v(" "),t("v-comment")],1)},[],!1,null,null,null);n.default=e.exports}}]);